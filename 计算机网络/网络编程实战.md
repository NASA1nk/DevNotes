# 网络基础

## 端口

端口号是一个 16 位的整数，最多为 65536

当一个客户端发起连接请求时，客户端的端口是由操作系统内核临时分配的，称为临时端口

## 连接

一个连接可以通过客户端 - 服务器端的 IP 和端口唯一确定，这叫做套接字对，

套接字的四元组表示：`（clientaddr:clientport, serveraddr: serverport)`

## DNS

全球域名按照从大到小的结构，形成了一棵树状结构

实际访问一个域名时，**是从最底层开始写起**，例如 www.google.com，www.tinghua.edu.cn等

![image-20220520004314493](网络编程实战.assets/image-20220520004314493.png)



## Tcp和Udp

TCP，又被叫做**字节流套接字**（Stream Socket）

- Stream sockets 是可靠的，双向连接的通讯串流

UDP，又被叫做**数据报套接字**（Datagram Socket），Datagram Sockets 有时称为**无连接的 sockets**（connectionless sockets）

- 使用 UDP 的原因，第一是速度，第二还是速度
- 广播或多播（向网络中的多个节点同时发送信息），选择 UDP 是非常合适的

> 一般分别以`SOCK_STREAM`与`SOCK_DGRAM`分别来表示 TCP 和 UDP 套接字

# Socket

`socket`：**套接字**，有的时候也叫做**套接口**

在客户端发起连接请求之前，服务器端必须初始化好

1. 服务器端首先初始化 socket
2. 之后服务器端需要执行 bind 函数，将自己的服务能力绑定在一个众所周知的地址和端口上
3. 然后服务器端执行 listen 操作，将原先的 socket 转化为服务端的 socket
4. 服务端最后阻塞在 accept 上等待客户端请求的到来

客户端需要先初始化 socket，再执行 connect 向服务器端的地址和端口发起连接请求，这里的**地址和端口必须是客户端预先知晓的**

![image-20220520004838256](网络编程实战.assets/image-20220520004838256.png)

